---
title: "Template code for tidyverse"
author: "Kevin Rue-Albrecht"
date: "18/11/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Demo

- Load the tidyverse

```{r}
library(tidyverse)
```

- Load a single package from the tidyverse

```{r}
library(ggplot2)
```

# Demo

# The pipe operator

```{r}
x <- 4
x %>% sqrt()
```

```{r}
x <- 4
sqrt(x)
```

# Demo

## The tidyverse philosophy

```{r}
iris %>% select(Sepal.Length, Sepal.Width, Species) %>% slice_head(n = 3)
```

# Exercise

## Read and write files

- Read data from the file `iris.csv` using `readr`.
  Assign the data imported from the file to an object called `iris_raw`.

```{r}

```

**What do you learn about the data from the messages displayed in the R console while the contents of the file are parsed and imported into your R session?**

- Display the value of `iris_raw`.

```{r}

```

**What is the class of the data? What are the dimensions of the dataset? What is the type of data stored in each column?**

- Write the dataset to a file named `iris.tsv`, separating fields with the tabulation character.

```{r}

```

**What function do you use? What options are available for that function?**

- Inspect the file itself.
  You can use `file.edit()` to open the file in the RStudio editor.

```{r, eval=FALSE}

```

.center[
**Are you satisfied with the contents and appearance of the file?**
]

# Demo

## Making a tibble

```{r}
tibble(x = 1:5, y = 1, z = x ^ 2 + y)
```

# Demo

## Subset the columns of a table

```{r}
iris %>% select(Sepal.Length, Sepal.Width)
```

```{r}
iris %>% select(starts_with("Petal") | ends_with("Width"))
```

```{r}
iris %>% select(!ends_with("Width"))
```

```{r}
iris %>% select(!c(Sepal.Length, Petal.Length))
```

# Demo

## Create and update columns in a table

```{r}
iris %>%
    mutate(
        ID = rep(1:50, times = 3),
        Flower.ID = paste0(Species, ID)
        ) %>%
    group_by(Species) %>%
    slice_head(n = 3)
```

